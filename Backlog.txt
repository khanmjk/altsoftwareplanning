Created MVP backlog Fri 26 April 2025
--------------------------------------

----
DONE
----
A lot has been done
[Done] MVP shows functional system view, org chart, engineer list, manage year plan and tune capacity constraints pages
[Done] Revisit the Yearly Planning page (planningView / generatePlanningTable).
The goal will be to introduce a new control (like a toggle switch) labelled "Apply Capacity Constraints".
When this is activated, the planning table's ATL/BTL calculation will switch from using the Gross capacity (Team BIS, Effective BIS, or Funded HC) to using the calculated Net Project SDE Years (Gross minus all the sinks we configured) for the corresponding scenario.
This will give a much more realistic view of what can actually be delivered Above The Line.
[Done] Resource Forecasting - Incorporate the resource forecasting tool in the main app
[Done] In system overview, only show the service dependencies table when the service dependency visualisation is selected from the carousel	
[Done] Documentation - Generate comprehensive project wiki, readme and instructions about the tool
[Done] Landing home page - include a content window that shows the documentation about the tool
[Done] Refactored single index.html to multiple files by features, major refactor
[Done] Refresh the MVP UX to look like a modernized webapp
[Done] [Feature] No ability to add new engineers to team (regression)
[Done] [Feature] Make the Engineer List editable as well, build common table 
widget
[Done] [UX] Play around with transition animation concepts from this video: https://youtu.be/_-6LgEjEyzE?si=TUsX_vDzRFMITooG
[Done] Enhance the team member structure by supporting AI SWEs to supplement the team.
These AI SWE (software engineers) can have different skill levels too, similar to human: Intern, Junior, Intermediate, Senior.
They could be added from a pool of AI agents
for away team work, or can be part of a team like any other human engineer
[Done] Enhance data model to track engineer skillsets and perhaps degree qualifications, maybe even years of industry experience
[Done] MAJOR DATA MODEL changes
Data Model
-- Inspect the data model structure and enhance the data model for future backlog items, create an easy way to extend the data structure without having to change a lot of existing code - so maybe add an attribute that allows for future additions to the model (extensible data structure)
-- Year Planning - Add 
ROI (Return on investment - some protected initiatives will override ROI) for prioritising initiatives, Target Due/Dates, Delivery Quarter columns to year plan table (updates to data model needed)
Manage Detailed Planning
-- Concept of work packages
-- Data model planning updates
-- A plan is governed by 1...many goals
-- A goal is comprised on 1 ... many initiatives
--- A goal has an owner (person accountable for the goal delivery) - typically a product manager from the organisation
--- A goal can have a project manager assigned to own the planning and tracking
--- A goal can have a technical point of contact (POC), the lead engineer 
or SDM
-- An initiative can have 1.. many work packages
--- An initiative can have a project manager assigned
--- An initiative can have an owner (either the goal owner, or someone else) accountable for delivery
--- An initiatve can impact 1..many teams
--- An initiative can impact 1.. many services
-- A work package impacts 1.. many teams
--- A work package impacts 1.. many services
-- A team has 1..many tasks to deliver
--- Tasks can have 0..many dependencies on other tasks within the work package, or other work packages outside its work package
-- A work package has 1..many delivery statuses (Not Started, In Progress, Delivered)
-- 
A work package has 1 .. many phases [Requirements, Design, Implementation, Integration testing, Security Testing, UAT/E2E Testing, Deployed]
-- A work package has a planned delivery date and actual delivery date (to track plan versus actual)
-- A work package has total capacity metric (sum of all HC estimates per team associated with the work package)
-- A work package can have one owner (someone accountable for the work package delivery)
-- A work package can have 0..many dependencies on other work packages
[Done] - Need to update SwitchView to cleanup if roadmap edit dialog was shown
[Done] - Roadmap: Added ROI Type and used Theme 
name instead of theme ID
[Done] - Fixed by Google's Jules - [UX] Use team identity instead of team name for "Owning Team" column in Service Dependencies table when Service Dependency Visualization is shown on the carousel
[Done] - Fixed by Google's Jules - [UX] In the Team Relationships Visualization carousel, ensure the correct data structure attributes are used for "Size of Team" and "Engineer Names" as these currently show up as "undefined"
[Done] - Fixed by Google's Jules - [UX]- [Bug] Apply consistent behaviour for displaying visualization graphs in caroussel - fix legends
[Done] - Fixed by Google's Jules - [UX] Use consistent 
formatting for legends in the carousel (circles not blocks)
[Done] - Fixed by Google's Jules - [Feature] For all visualizations add a toggle button to show/hide platform components
[Done] - Fixed by Google's Jules - - Fix the UI display in "Service Relationships Visualization" caroussel.
The drop down list for services, remains stuck on "All Services View" despite selecting a service from the drop down list.
Expected behavior: The selected service must show as the heading in the list, only show "All Services View" when "All Services View" is selected, otherwise the selected service must show in the list entry.
[Done] - Fixed by Google's Jules - [Bug] - Fix issue when adding new engineer in Edit System Page, when adding team members to the "Available Engineers (System Pool)".
The question "Is AI engineer?" there is no way to select Yes or No. so it defaults to AI Engineer even when the resource is a human!
Need a checkbox added and apply logic correctly.
[Done] - Capacaity Forecasting / contraints
[Done] -- Add gains in AI engineers - hours saved by AI means more capacity to the team
[Done] -- Ensure that when a team has AI engineers, they are excluded from team capacity constraints for leave and meetings overheads
[Done] - Fixed by Google's Jules UX fixes - - Fix table of contents for documentation - clickthrough on links don't all work
[Done] - Technical Debt - 5. Address Data Model Extensibility (Revisit from Backlog):
         Description: Review the existing data structures 
(e.g., for teams, services, initiatives) and implement the previously discussed strategy for making them more extensible.
This might involve adding a generic attributes or customFields property to key data objects to allow for easier addition of new information without constant schema changes.
Impact: Reduces the friction for adding new features that require storing more data, ensuring the application can evolve more smoothly.
[Done] Make sure to clean up Yearly Planning view:
[Done] -- There needs to be link from year plan to the backlog page (ATL items must be considered as "committed" in the backlog item status, whilst BTL items must get assigned to "backlog" state).
[Done] When generated the roadmap view, the planning status in the year plan for initiatives as ATL/BTL - must drive the backlog and roadmap.
[Done] -- Remove Add new initiative from year plan so that the rule becomes year plan must always pull from the backlog.
The backlog should be the main source of truth for initiatives / roadmap
[Done] -- Thinking we should add some other attributes to initiatives like type: Egnineering, Product, BusinessOps, Security, Compliance, Legal, etc.

[Done] Manage Roadmap & Backlog
[Done] -- Similar to the year planning page, but focused on roadmap / backlog management (does not need to show ATL/BTL logic), just an interactive table to pull the latest backlog of initiatives, ability to add and remove initiatives.
The Year plan and Roadmap must share the same data model (year plan shows more details / attributes than the roadmap)
[Done] -- Generate roadmap table view (by quarter), should be interactive to filter by org, team
[Done] -- The backlog items can have 1..many initiatives
[Done] -- Initiatives can be associated with 1..many themes or tags that are linked to a business goal / strategy, like Revenue, Cost Optimization, Engineering Excellence, UX/Usability, Accessibility, Security, Product Feature enhancements
[Done] -- It must be possible to generate a 3 year plan (3YP) view of the roadmap, something like Current Year, Next Year, future
[Done] -- It 
must be possible to show a visual representation of the initiatives by theme so the senior engineering or product leader can gauge the distribution of investments by theme
[Done] -- It must be possible to generate a roadmap view per team for software managers to focus on their team or org-specific commitments
[Done] -- It must be possible to generate a view of business objectives and strategies from the backlog
[Done] -- It must be possible to generate a view of completed goals, initiatives or work packages
[Done] - basic - needs improvement] -- It must be possible to display a graph 
visualization (similar to system visualizations) of service impact and relations to initiatives and work package dependencies

[Done] - Fix up Initiative Impact dashboard widget in impactView.js
[Done] -- Make the visible window larger so the graph fits better - right now the nodes exceed the window - make the window larger
-- When filtering by Intiatives:
[Done] --- Use different colours to identify teams just like we do in System Visualization and Team Relationships Visualization (currently all teams appear as blue circles)
[Done] --- Differentiate the services owned by teams, use different colours relative to the team colour (currently all service nodes appear as green 
circles) 
[Done] --- When hovering over a service node, the tooltip is wrong: It shows Owner as team id, instead use the team identity
[Done] --- When hovering over a team node, the tooltip is wrong: It shows SDM as the sdmid instead of the actual value, i.e. name of manager
[Done] --- When hovering over the initiative node, enhance the tooltip by showing more details about the initiative: Owner, Due Dates, Teams impacted, Estimates per team, etc.
[Done] --- Highlight the initiative node in a different colour, maybe a red outline, so we can see the selected initative under focus
[Done] --- Generate 
a summary in a suitable format of the initiative selected (something that tells a story for that initiative)
-- When filtering by Team:
[Done] --- Include in the drop down list "All teams" to show the overall default view
[Done] --- Similar changes as for initiatives: Use different colours for teams, and use data for values instead of IDs in the tooltips
[Done] --- There should be a starting node showing the selected team from the filter - this would make the network graph clearer
-- When filtering by Service:
[Done] --- Highlight the selected service in focus so we can see it more clearly, just 
like we do in  Service Relationships Visualization
[Done] --- Add tooltips as necessary to provide context for the arrows in the graph, straight lines, etc.
[Done] --- Show dependency arros similar to how we currently do in Service Dependency Visualization
- General UX guidelines for Initiative Impact widget:
[Done] -- Increase size of team nodes so the text can fit - and split the text over two lines if too long (right now some text appears outside the node)
[Done] -- Include appropriate legends like we do in other visualizations in 
[Done] -- Esure the thing being filtered (initiative, team or service) is clearly 
focused/highlighted in the graph that makes it stand out from other nodes
[Done] -- Strive to make the widget responsive to the size of the graph so that the graph appears within the frame (no nodes should appear cut out from the frame)
[Done] -- For team nodes, use toolip showing information about the team similar to the Team Visualization, and also some info on initiatives the team is impacted by
[Done] -- When hovering over service nodes, include in tooltip, description about the service 
[Done] --- Think about adding another dashboard widget for "demand by team per quarter" - to show a 
bar graph per quarter to see team load/demand impact
[Done] - [Feature] Add more default systems for demo purposes: Reference architectures for Android Stack, Chat GPT app, LLM system, etc.
[Done] - [Feature] Organization Overview - show a view of traditional org chart with blocks
[Done]- [AI Feature] A cool feature would be to enable the user to recreate classic systems they wanted to learn about more, using the established data construct underlying the app (basically generate synthetic sample system architecture with a sample team/org structure)
[Done] - [AI] Let's limit the options to select Google gemini for the AI settings and grey out the other options for MVP
[Done] - [AI] Be explicit in the LLM provider modal that users must use FREE API KEY, link them to Google AI studio to get the key, copy-and-paste the key in the app modal. Call out explicitly, if the user has their own private API key, the app is client side, executed on the browser using local storage
[Done] - and put a disclaimer that using the app comes with risk I'm not liable for, if the user inputs their own private api key, instead of a free tier key from AI studio
[Done] - [AI] Add some stats and metrics to show what was input into the LLM, what the LLM produced: tokens, characters, system summary details (not exhaustive)
[Done] - [AI] Add some spinning animation when the Create with AI workflow is triggered and the app is waiting for the LLM system generation to complete
[Done] - [AI] Update the app's readme documentation to cover all the new AI features
[Done] - [AI Feature] Create a top-level menu for "AI-Assistant" - a page that allows the user to interact through a chat interface on interrogating the selected system
[Done] - [AI Feature] Implement AI-powered analysis (`getAnalysisFromPrompt`) to answer questions about the system (backend logic stubbed in aiService.js)
[Done] - [UX] Fix "Create with AI" button layout, animation, and styling on home screen.
[Done] - AI enhancements
-- Ask questions about the system architecture [Done]
-- Find out about the people / teams [Done]
-- Understand the current status of the backlog [Done]
-- Inspect the year plan: which teams are underfunded? Which initiatives are ATL? [Done]
-- Ask it to help identify bottlenecks: Inspect capacity contraints, find optimizations in the planning, suggest ideas to improve delivery plan [Done]
-- Analyse the make-up of teams, flag risks like a team is funded mostly with junior engineers, doesn't have a senior engineer, etc. Flag hiring concerns. [Done]
-- In the org view, it would be nice to show a table describing what the team is responsible for [Can do this with AI]
- [Done] Use AI conversational chatbot to set up a new system, edit, or interact with the data associated with existing systems
- [Done] -- Now that we can add resources to the system, we need to also support removing resources (when people leave) [Jules failed at this task][Use AI instead]
[Done] - For the system dependency table view, refactor to use the new tabulator table style for consistency with other table views in the app
[Done] - Use AI to provide insights into the software system and overall engineering organisation
[Done] -- Use AI to update and change the system: Like move engineers to new managers, Add new initiatives to backlog
[Done] - [Bug] - When filtering in the Service Dependency Visualization, the list is stuck on the first service, even though the selected service from the list is acted on, and the graph displays correctly - but the top service list doesn't show the selected service
[Done] - [AI] Implement "Plan Optimization Agent" (Analyze/Propose/Confirm workflow)
[Done] - [AI] Add macro/bulk tools (bulkUpdateTeamCapacity, bulkUpdateInitiatives, bulkAdjustInitiativeEstimates, bulkReassignTeams) with scope callouts in agent plans
[Done] --- Build richer agents to perform complex operations from the chat like 
[Done] --- Reduce all teams capacity by 20% and show the updated ATL/BTL plan
[Done] --- Move all initiatives under the Goal XYZ to BTL to free up capacity
[Done] - [Architect] Include mermaid diagram drawing capability
[Done] - [AI] Add support for AI diagramming using mermaid functionality
[Done] - [AI] Think about refactoring the codebase for AI files - like an AI folder to keep all ai-related files, especially if we're going down the agent route (like a planning agent, resource planning agent, etc.)
[Done]- [AI] Explore generating architecture diagramming options, apart from the app's 3d node graphs
[Done] - [Architecture] Move from Mermaid to Interactive Canvas (e.g., Frappe Gantt)
[Done] - [UX] Description: Mermaid is read-only. To enable "Drag and Drop" planning on the chart itself, replace ganttChart.js with a library like frappe-gantt or dhtmlx-gantt.
[Done] - [UX] Value: Allows users to drag bars to reschedule, which is the expected behavior for detailed planning tools.
[Done] - [UX] - [MAJOR UX REFACTOR] - Upgrade the menu navigation layout - it's growing with each new feature - need a new cleaner menu navigation model  
[Done] - [UX] - [MAJOR UX REFACTOR]- [TD UX] - Enhance the workspace UX feature, move away from antiquated form views and caroussels - the page needs to be seen as an integrated part of the workspace view
[Done] - [TECH DEBT] - Enhance the codebase to be more modular, portable, separate concerns
[Done] - [TECH DEBT] - completely remove data.js
[Done] - [TECH DEBT] - move util function function validateGeneratedSystem(systemData) to aiService
[Done] - [TECH DEBT] - Cleanup code wherever this pattern exists: if (typeof [NAME] === 'function') {... since we introduced service layers then these functions are guaranteed
[Done] - [TECH DEBT] - Create a new service for SystemManager to handle all system related functions, maybe abstract to StorageService?
[Done] - [TECH DEBT] - window.saveSystemData(); //TODO: Replace with correct Save System function
[Done] - [TECH DEBT] - cleanup window.sampleSystemsData
[Done] - [TECH DEBT] - remove global references to window.* 
[Done] - [TECH DEBT] - AI settings not being persisted to local storage
[Done] - [TECH DEBT] - clean up main.js
[Done] - [TECH DEBT] - cleanup occurrences of this pattern if (window.X) { window.X.[OPERATION]...
[Done] - [TECH DEBT] - code cleanup - busted utils.js!
[Done] - [TECH DEBT] - Abstract 3p libraries like markdown, mermaid, frappe, d3js
[Done] - [TECH DEBT] - Year Planning modernization
[Done] - [TECH DEBT] - Transform editSystem.js to the workspace-canvas-contract.md - create view related files
[Done] - - [TECH DEBT] Refactor ganttPlanning.js - 17 module-level globals, 8 innerHTML usages, inline onclick handlers
  * Consolidate globals into a class-based structure
  * Replace innerHTML with DOM APIs or templating
  * Legacy file with significant contract violations

[Done] - [TECH DEBT] Refactor yearPlanning.js - 8 module-level globals, innerHTML usages, inline onclick
  * Same refactoring approach as ganttPlanning.js
  * Both files are legacy and need dedicated refactoring effort

[Done] - - [TECH DEBT] Refactor main.js to be a pure bootstrap component
  * main.js currently has view-specific knowledge (AI Chat Panel fallback HTML, loadHtmlComponent helper)
  * Should move fallback HTML templates to TemplateService or respective components
  * Should move loadHtmlComponent to TemplateLoader or WorkspaceComponent
  * WorkspaceComponent should own AI Chat Panel initialization as part of canvas layout
  * main.js should only handle: service init, manager init, shell components, routing
  * See workspace-canvas-contract.md for separation of concerns guidelines

[Done] - [UX] Add ability remove an engineer from Engineer List table to account for attrition (the engineer must be removed from the main engineer list and all associate objects where engineer is associated with a team)
[Done] - Bug fix - UI is not being refreshed when AI agent runs tools and makes changes to system
[Done] - Bug fix - update roadmap and 3yp if new initiative added using the modal

------------
IN PROGRESS
------------
- cleanup index.html - move a bunch of html to a view file for main content or the workspace canvas files
- ensure AI tooling agents have the right function calls to reference with the introduction of the service layer
-- Start building out detailed planning features
-- [AI] extend the diagram agents to support mermaid generation of gantt charts, organograms
- [AI Feature] Create an AI agent that can perform actions on the system with access to the code



[Feature] - Goals tracking and management. 
Goals should have statuses (rules should be configurable on app settings): 
[Green] Not Started - Ok, 
[Amber] Not Started - At Risk, 
[Green] In Progress - OK, 
[Amber] In Progress - At Risk, 
[Red] In Progress - Slipping,
[Red] In Progress - Slipped Original Due Date, New Due Date Set
[Green] In Progress - On Track [New Due Date],
[Red] Slipped - Did Not Meet [regardless of original date or new due date]
[Green] Completed [Within orginal due date]
[Green with warning exclamation] Completed Late
[Red] No Due Date Set [assumes no deadline, inherit end date of last initiative]
[Red] No initiatives linked - a goal should not have empty initiatives


Logic needs to be linked to initiative delivery dates, and initiative due dates linked to WP delivery dates
A goal has target end date and a planned end date. The planned end date inherits the last initative's end date linked to that goal
Status rules trigger a call to action when there is a conflict with the last initiative's end date exceeding the due date for the goal
A goal therefore needs to have additional attributes in its data structure - code already supports extensible attributes
The goals dashboard cards status must align with the product management view pages for goals management

[Goals Management] Show pills on goals list just like the initiative lists that shows status of the initiative

[Feature] Add a feedback workflow to the app, similar to antivgravity "Provide Feedback" in side panel. Feedback must push to
the gitgub issues tracker to keep track of user feedback requests

[TODO] Add goals drop down filter to quarterly roadmap and 3YP
[TODO] Add backlog status filter to initiatives in quarterly roadmap and 3YP
[TODO] Fix ROI fields in initiatives management view
[TODO] Capacity Tuning - Show Hiring Gap as a KPI card in dashboard AND ensure capacity sink calculation does not include full bench strength for teams with an open hiring gap
[TODO] Fix org chart visual - enhance it to display by depth



------
TO DO
------  
- [Feature] More integrated planning tuning using capacity tuning feature - account for team member leave calendars
- [Feature] More intelligent scheduling in gantt table planning, assign resources and calculate end dates automatically
- [AI] Tune the system prompt so the AI created systems include rich planning metadata for goals, initiatives, work packages, tasks, start date, end date, etc.
- [AI] - Ability to export the year plan, showing ATL/BTL logic, etc. to Excel - the excel model must be generated using LLM so that formulaes in the code are applied to the excel generation
- Now that we have a goals dashboard view, we need to think about introducing an interface to manage the lifecycle of goals
- Working on creating a reusable modern table widget leveraging tabular library

Utilities
- Now that we've got export to excel, csv and json working, we need a utlity to generate these files from other places: planning table, overall system data dump, etc.

UX
-- Ability to export the system to JSON, CSV and Excel, from top level menu "Export System" [leveraging Tabular library's export functionality]

Year Planning
-- View planning by teams - for individual manager team planning.
-- Allow managers to tune their teams estimates which will update the data model, year plan page uses latest changes)
-- Add versioning when saving plans (up to 5 previous versions) - need to update data model structure
-- Add ability to export the plan to CSV or Excel

Team Editing
-- We support away team only from an incoming perspective (i.e. help provided to the team), but we could also consider concept of outgoing away team (I.e. the team lends engineers to other teams)

AI enhancements
-- Use AI to generate a delivery plan - classic ganntt chart using the year plan as input, work out a plan per team for the year [build on the diagram agent introduced for system architecture]
-- Use AI to set-up recurring tasks to collect status updates for initiatives (detailed work package tracking feature)
-- USe AI to generate graphs / views the webapp pages don't currently render - like a pie chart showing disribution of initiatives by themes
-- Use AI to create a new system from a visual software architecture diagram

-- Enable self-generating code contributions to the app itself
-- Create a new system from the chat panel - an AI-wizard
-- Export the plan to Excel or Project
-- Create a detailed quarterly release plan for team XYZ
-- Merge these two teams into one team, reporting to a new SDM, move these services to the new team, keep remaining services in unallocated team, etc.
-- Build an appstore feature for users to share and publish their generated systems
-- Build an internal app API for the app to make agent creation more accessible
-- Refactor the codebase to cleanly separate out concerns - and make future porting easier
-- Explore a backend-as-a-service to make simpler API key integrations possible for folks who are not software engineers

TODO: Work with other LLM providers
TODO: Add backend proxy for AI image generation (securely store user-provided API keys and enable browser clients hosted on GitHub Pages to call Imagen without exposing secrets)

Bugs / Missing features

- [UX] Include a Delete Resource section in the Organization view, make the Add and Delete resource sections collapsible.
Remember to regenerate the team breakdown table to reflect changes.
- [Feature] - In Service Dependency Visualization, use different colours for upstream and downstream dependent nodes


==== Post MVP ===
UX enhancements
-- [Partially Done - needs rewrite port to modern framework like react] modernise the UX to a style of popular apps, maybe copy the AWS console UX styles?
-- OR get the AI to research the UX style for open project.org 
-- Add sign-in / auth functionality
-- Update data model to support organisations: An organisation has 1..many systems, etc.
-- Add ability to import a backlog from an excel file
-- Launch the app :-)
